"use strict";(self["webpackChunkproject_two"]=self["webpackChunkproject_two"]||[]).push([[642],{642:function(e,r,t){t.r(r),t.d(r,{default:function(){return c}});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login"},[r("el-card",{attrs:{shadow:"hover"}},[r("div",{staticStyle:{"text-align":"center","font-weight":"700"}},[e._v("系统登录")]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px","status-icon":""}},[r("el-form-item",{attrs:{label:"用户名",prop:"username",autocomplete:"off"}},[r("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)],1)},o=[],a=(t(7658),t(7634),t(680)),l=t(7473),u={data(){var e=(e,r,t)=>{if(!r)return t(new Error("用户名字不能为空"));t()},r=(e,r,t)=>{""===r&&t(new Error("请输入密码")),t()};return{ruleForm:{username:"",password:""},rules:{password:[{validator:r,trigger:"blur"}],username:[{validator:e,trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;(0,l.r7)(this.ruleForm).then((({data:e})=>{if(2e4===e.code){this.$message({message:"登录成功",type:"success"});const r=e.data.token;a.Z.set("token",r),this.$store.commit("setMenu",e.data.menu),this.$store.commit("addMenu",this.$router),this.$router.push("/home")}else this.$message({message:"登录失败,用户名或密码错误",type:"warning"})}))}))}}},n=u,i=t(1001),m=(0,i.Z)(n,s,o,!1,null,"5c2722d3",null),c=m.exports}}]);
//# sourceMappingURL=642.9f7bd93d.js.map